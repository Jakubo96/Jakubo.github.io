{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/auth/auth-guard.service.ts","./src/app/auth/firebase-auth.service.ts","./src/app/auth/is-creator-or-admin.directive.ts","./src/app/auth/login/login.component.ts","./src/app/auth/login/login.component.html","./src/app/auth/login/phone-login/phone-login.component.ts","./src/app/auth/login/phone-login/phone-login.component.html","./src/app/auth/login/phone-login/window.service.ts","./src/app/auth/login/register/password.validator.ts","./src/app/auth/login/register/register.component.ts","./src/app/auth/login/register/register.component.html","./src/app/auth/not-authorized/not-authorized.component.ts","./src/app/auth/not-authorized/not-authorized.component.html","./src/app/auth/role.enum.ts","./src/app/auth/user.ts","./src/app/header/header.component.ts","./src/app/header/header.component.html","./src/app/images-carousel/images-carousel.component.ts","./src/app/images-carousel/images-carousel.component.html","./src/app/news/create-news/create-news.component.ts","./src/app/news/create-news/create-news.component.html","./src/app/news/news-detail/news-detail.component.ts","./src/app/news/news-detail/news-detail.component.html","./src/app/news/news-list/news-list.component.ts","./src/app/news/news-list/news-list.component.html","./src/app/page-not-found/page-not-found.component.ts","./src/app/page-not-found/page-not-found.component.html","./src/app/services/firestore/firestore-collections.ts","./src/app/services/firestore/firestore.service.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NewsListComponent } from './news/news-list/news-list.component';\r\nimport { PageNotFoundComponent } from './page-not-found/page-not-found.component';\r\nimport { NewsDetailComponent } from '@app/news/news-detail/news-detail.component';\r\nimport { CreateNewsComponent } from '@app/news/create-news/create-news.component';\r\nimport { LoginComponent } from '@app/auth/login/login.component';\r\nimport { RegisterComponent } from '@app/auth/login/register/register.component';\r\nimport { NotAuthorizedComponent } from '@app/auth/not-authorized/not-authorized.component';\r\nimport { AuthGuard } from '@app/auth/auth-guard.service';\r\nimport { AuthorizedRoutes } from '@app/auth/authorized-route';\r\nimport { Role } from '@app/auth/role.enum';\r\nimport { PhoneLoginComponent } from '@app/auth/login/phone-login/phone-login.component';\r\n\r\nconst routes: AuthorizedRoutes = [\r\n  {\r\n    path: 'news', component: NewsListComponent,\r\n    canActivate: [AuthGuard],\r\n    permitAll: true\r\n  },\r\n  {\r\n    path: 'login', component: LoginComponent,\r\n    canActivate: [AuthGuard],\r\n    permitAll: true\r\n  },\r\n  {\r\n    path: 'phone-login', component: PhoneLoginComponent,\r\n    canActivate: [AuthGuard],\r\n    permitAll: true\r\n  },\r\n  {\r\n    path: 'register', component: RegisterComponent,\r\n    canActivate: [AuthGuard],\r\n    permitAll: true\r\n  },\r\n  {\r\n    path: 'create',\r\n    component: CreateNewsComponent,\r\n    canActivate: [AuthGuard],\r\n    accessAllowedTo: Role.AUTHOR\r\n  },\r\n  {\r\n    path: 'create/:id',\r\n    component: CreateNewsComponent,\r\n    canActivate: [AuthGuard],\r\n    accessAllowedTo: Role.AUTHOR\r\n  },\r\n  {\r\n    path: 'news/:id', component: NewsDetailComponent,\r\n    canActivate: [AuthGuard],\r\n    permitAll: true\r\n  },\r\n  {\r\n    path: 'unauthorized', component: NotAuthorizedComponent,\r\n    canActivate: [AuthGuard],\r\n    permitAll: true\r\n  },\r\n  {path: '', redirectTo: '/news', pathMatch: 'full'},\r\n  {\r\n    path: '**', component: PageNotFoundComponent,\r\n    canActivate: [AuthGuard],\r\n    permitAll: true\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule {\r\n}\r\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n}\n","<app-header></app-header>\r\n<router-outlet></router-outlet>\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { AngularFireModule } from '@angular/fire';\r\nimport { environment } from '@environments/environment';\r\nimport { AngularFirestoreModule } from '@angular/fire/firestore';\r\nimport { AppRoutingModule } from '@app/app-routing.module';\r\nimport { AppComponent } from '@app/app.component';\r\nimport { HeaderComponent } from '@app/header/header.component';\r\nimport { NewsListComponent } from '@app/news/news-list/news-list.component';\r\nimport { PageNotFoundComponent } from '@app/page-not-found/page-not-found.component';\r\nimport { NgxFileDropModule } from 'ngx-file-drop';\r\nimport { AngularFireStorageModule } from '@angular/fire/storage';\r\nimport { AngularFireAuthModule } from '@angular/fire/auth';\r\nimport { IsCreatorOrAdminDirective } from '@app/auth/is-creator-or-admin.directive';\r\nimport { NewsDetailComponent } from '@app/news/news-detail/news-detail.component';\r\nimport { CreateNewsComponent } from '@app/news/create-news/create-news.component';\r\nimport { ImagesCarouselComponent } from '@app/images-carousel/images-carousel.component';\r\nimport { LoginComponent } from '@app/auth/login/login.component';\r\nimport { RegisterComponent } from '@app/auth/login/register/register.component';\r\nimport { NotAuthorizedComponent } from '@app/auth/not-authorized/not-authorized.component';\r\nimport { PhoneLoginComponent } from './auth/login/phone-login/phone-login.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    HeaderComponent,\r\n    NewsListComponent,\r\n    PageNotFoundComponent,\r\n    NewsDetailComponent,\r\n    CreateNewsComponent,\r\n    ImagesCarouselComponent,\r\n    LoginComponent,\r\n    RegisterComponent,\r\n    NotAuthorizedComponent,\r\n    IsCreatorOrAdminDirective,\r\n    PhoneLoginComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    NgbModule,\r\n    AngularFireModule.initializeApp(environment.firebase),\r\n    AngularFirestoreModule,\r\n    ReactiveFormsModule,\r\n    NgxFileDropModule,\r\n    AngularFireStorageModule,\r\n    AngularFireAuthModule\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule {\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot, UrlTree } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { FirebaseAuthService } from '@app/auth/firebase-auth.service';\r\nimport { map } from 'rxjs/operators';\r\nimport { AuthorizedRoute } from '@app/auth/authorized-route';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthGuard implements CanActivate {\r\n  private readonly accessDeniedUrlTree;\r\n\r\n  constructor(public router: Router, private firebaseAuth: FirebaseAuthService) {\r\n    this.accessDeniedUrlTree = router.parseUrl('/unauthorized');\r\n  }\r\n\r\n  public canActivate(\r\n    route: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot\r\n  ):\r\n    | Observable<boolean | UrlTree>\r\n    | Promise<boolean | UrlTree>\r\n    | boolean\r\n    | UrlTree {\r\n    const routeConfig = route.routeConfig as AuthorizedRoute;\r\n    if (routeConfig.permitAll) {\r\n      return true;\r\n    }\r\n\r\n    if (routeConfig.accessAllowedTo) {\r\n      return this.firebaseAuth.user.pipe(\r\n        map(user => (user && user.roles[routeConfig.accessAllowedTo] ? true : this.accessDeniedUrlTree))\r\n      );\r\n    }\r\n\r\n    return this.accessDeniedUrlTree;\r\n  }\r\n}\r\n\r\n","import { Injectable, OnDestroy } from '@angular/core';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport { BehaviorSubject, of, Subject } from 'rxjs';\r\nimport { switchMap, take, takeUntil } from 'rxjs/operators';\r\nimport { User } from '@app/auth/user';\r\nimport { auth } from 'firebase';\r\nimport { FirestoreService } from '@app/services/firestore/firestore.service';\r\nimport ApplicationVerifier = firebase.auth.ApplicationVerifier;\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class FirebaseAuthService implements OnDestroy {\r\n\r\n  private _user: BehaviorSubject<User> = new BehaviorSubject(null);\r\n  private unsubscribe$ = new Subject();\r\n\r\n  get user(): BehaviorSubject<User> {\r\n    return this._user;\r\n  }\r\n\r\n  constructor(private afAuth: AngularFireAuth,\r\n              private firestoreService: FirestoreService) {\r\n    this.afAuth.user\r\n      .pipe(\r\n        switchMap(user => user ?\r\n          this.firestoreService.getUser(user.uid) :\r\n          of(null)),\r\n        takeUntil(this.unsubscribe$))\r\n      .subscribe(user => this._user.next(user));\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unsubscribe$.next();\r\n    this.unsubscribe$.complete();\r\n  }\r\n\r\n\r\n  public async createUser(email: string, password: string): Promise<void> {\r\n    const credentials = await this.afAuth.auth.createUserWithEmailAndPassword(email, password);\r\n\r\n    this.createUserDoc(credentials.user);\r\n  }\r\n\r\n  public async loginWithEmailAndPassword(email: string, password: string): Promise<void> {\r\n    const credentials = await this.afAuth.auth.signInWithEmailAndPassword(email, password);\r\n\r\n    this.createUserDoc(credentials.user);\r\n  }\r\n\r\n  public async loginWithGoogle(): Promise<void> {\r\n    const credentials = await this.afAuth.auth.signInWithPopup(new auth.GoogleAuthProvider());\r\n\r\n    this.createUserDoc(credentials.user);\r\n  }\r\n\r\n  public async loginWithFacebook(): Promise<void> {\r\n    const credentials = await this.afAuth.auth.signInWithPopup(new auth.FacebookAuthProvider());\r\n\r\n    this.createUserDoc(credentials.user);\r\n  }\r\n\r\n  public async loginWithGithub(): Promise<void> {\r\n    const credentials = await this.afAuth.auth.signInWithPopup(new auth.GithubAuthProvider());\r\n\r\n    this.createUserDoc(credentials.user);\r\n  }\r\n\r\n  public async loginWithCredentials(credential: auth.AuthCredential): Promise<void> {\r\n    const credentials = await this.afAuth.auth.signInWithCredential(credential);\r\n\r\n    await this.createUserDoc(credentials.user);\r\n  }\r\n\r\n  public loginWithPhoneNumber(number: string,\r\n                              appVerifier: ApplicationVerifier): Promise<auth.ConfirmationResult> {\r\n    return this.afAuth.auth.signInWithPhoneNumber(number, appVerifier);\r\n  }\r\n\r\n  public getRecaptchaVerifier(containerId: string): ApplicationVerifier {\r\n    return new auth.RecaptchaVerifier(containerId);\r\n  }\r\n\r\n  public async logout(): Promise<void> {\r\n    await this.afAuth.auth.signOut();\r\n  }\r\n\r\n  private createUserDoc(authData: firebase.User): void {\r\n    const userData = {...new User(authData)};\r\n    const doc = this.firestoreService.getUser(authData.uid);\r\n\r\n    doc\r\n      .pipe(take(1), takeUntil(this.unsubscribe$))\r\n      .subscribe(user => {\r\n        if (!user) {\r\n          this.firestoreService.createUser(authData.uid, userData);\r\n        }\r\n      });\r\n  }\r\n}\r\n","import { Directive, Input, OnDestroy, OnInit, TemplateRef, ViewContainerRef } from '@angular/core';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { FirebaseAuthService } from '@app/auth/firebase-auth.service';\r\nimport { map, takeUntil } from 'rxjs/operators';\r\n\r\n@Directive({\r\n  selector: '[appIsCreatorOrAdmin]'\r\n})\r\nexport class IsCreatorOrAdminDirective implements OnInit, OnDestroy {\r\n\r\n  @Input() public appIsCreatorOrAdmin: string;\r\n\r\n  public isVisible = false;\r\n\r\n  private unsubscribe$ = new Subject();\r\n\r\n  constructor(\r\n    private viewContainerRef: ViewContainerRef,\r\n    private templateRef: TemplateRef<any>,\r\n    private firebaseAuth: FirebaseAuthService\r\n  ) {\r\n  }\r\n\r\n  public ngOnInit() {\r\n    this.updateTemplateState();\r\n  }\r\n\r\n  public ngOnDestroy() {\r\n    this.unsubscribe$.next();\r\n    this.unsubscribe$.complete();\r\n  }\r\n\r\n  private updateTemplateState(): void {\r\n    this.checkPermissions().subscribe(isPermitted => {\r\n      if (isPermitted && !this.isVisible) {\r\n        this.isVisible = true;\r\n        this.viewContainerRef.createEmbeddedView(this.templateRef);\r\n      } else if (!isPermitted) {\r\n        this.isVisible = false;\r\n        this.viewContainerRef.clear();\r\n      }\r\n    });\r\n  }\r\n\r\n  private checkPermissions(): Observable<boolean> {\r\n    return this.firebaseAuth.user.pipe(\r\n      takeUntil(this.unsubscribe$),\r\n      map(user => user && (user.roles.author && this.appIsCreatorOrAdmin === user.id || user.roles.admin))\r\n    );\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { AbstractControl, FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { FirebaseAuthService } from '@app/auth/firebase-auth.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n\r\n  public get email(): AbstractControl {\r\n    return this.loginForm.get('email');\r\n  }\r\n\r\n  public get password(): AbstractControl {\r\n    return this.loginForm.get('password');\r\n  }\r\n\r\n  public loginForm: FormGroup;\r\n\r\n  constructor(private fb: FormBuilder, private firebaseAuth: FirebaseAuthService, private router: Router) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.buildForm();\r\n  }\r\n\r\n  public async signInWithEmailAndPassword(): Promise<void> {\r\n    await this.firebaseAuth.loginWithEmailAndPassword(this.email.value, this.password.value);\r\n    this.router.navigate(['/news']);\r\n  }\r\n\r\n  public async loginWithGoogle(): Promise<void> {\r\n    await this.firebaseAuth.loginWithGoogle();\r\n    this.router.navigate(['/news']);\r\n  }\r\n\r\n  public async loginWithFacebook(): Promise<void> {\r\n    await this.firebaseAuth.loginWithFacebook();\r\n    this.router.navigate(['/news']);\r\n  }\r\n\r\n  public async loginWithGithub(): Promise<void> {\r\n    await this.firebaseAuth.loginWithGithub();\r\n    this.router.navigate(['/news']);\r\n  }\r\n\r\n  private buildForm(): void {\r\n    this.loginForm = this.fb.group({\r\n      email: ['', [Validators.required, Validators.email]],\r\n      password: ['', [Validators.required, Validators.minLength(6)]]\r\n    });\r\n  }\r\n}\r\n","<div class=\"container mb-5\">\r\n  <div class=\"row mb-4\">\r\n    <div class=\"col-2\">\r\n    </div>\r\n    <div class=\"col-8\">\r\n      <h3>Login</h3>\r\n      <form [formGroup]=\"loginForm\" (ngSubmit)=\"signInWithEmailAndPassword()\" class=\"w-50\">\r\n        <div class=\"form-group\">\r\n          <label>Email</label>\r\n          <input type=\"text\" class=\"form-control\" formControlName=\"email\">\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label>Password</label>\r\n          <input type=\"password\" class=\"form-control\" formControlName=\"password\">\r\n        </div>\r\n        <div class=\"d-flex justify-content-between\">\r\n          <button [disabled]=\"!loginForm.valid\" type=\"submit\"\r\n                  class=\"btn btn-success\">\r\n            Login\r\n          </button>\r\n          <button type=\"button\" routerLink=\"/register\"\r\n                  class=\"btn btn-warning\">\r\n            Register\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n  <div class=\"row mb-4\">\r\n    <div class=\"col-2\">\r\n    </div>\r\n    <div class=\"col-4 d-flex justify-content-between\">\r\n      <button type=\"button\" (click)=\"loginWithGoogle()\"\r\n              class=\"btn btn-info\">\r\n        Login with Google\r\n      </button>\r\n      <button type=\"button\" (click)=\"loginWithFacebook()\"\r\n              class=\"btn btn-dark\">\r\n        Login with Facebook\r\n      </button>\r\n    </div>\r\n  </div>\r\n  <div class=\"row mb-4\">\r\n    <div class=\"col-2\">\r\n    </div>\r\n    <div class=\"col-4 d-flex justify-content-between\">\r\n      <button type=\"button\" (click)=\"loginWithGithub()\"\r\n              class=\"btn btn-danger\">\r\n        Login with Github\r\n      </button>\r\n      <button type=\"button\" routerLink=\"/phone-login\"\r\n              class=\"btn btn-primary\">\r\n        Login with phone\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\nimport { auth } from 'firebase';\r\nimport { WindowService } from '@app/auth/login/phone-login/window.service';\r\nimport { FirebaseAuthService } from '@app/auth/firebase-auth.service';\r\nimport { Router } from '@angular/router';\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-phone-login',\r\n  templateUrl: './phone-login.component.html',\r\n  styleUrls: ['./phone-login.component.scss']\r\n})\r\nexport class PhoneLoginComponent implements OnInit {\r\n\r\n  public windowRef: any;\r\n\r\n  public phoneGroup: FormGroup;\r\n  public verificationCodeControl: FormControl;\r\n\r\n  public confirmationResult: auth.ConfirmationResult;\r\n\r\n  constructor(private win: WindowService, private firebaseAuth: FirebaseAuthService,\r\n              private router: Router, private fb: FormBuilder) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.setupRecaptchaVerifier();\r\n    this.buildForm();\r\n  }\r\n\r\n\r\n  public async sendLoginCode(): Promise<void> {\r\n    const phoneNumber = this.obtainPhoneNumber();\r\n\r\n    this.confirmationResult = await this.firebaseAuth.loginWithPhoneNumber(phoneNumber,\r\n      this.windowRef.recaptchaVerifier);\r\n  }\r\n\r\n  public async verifyLoginCode(): Promise<void> {\r\n    const credential = auth.PhoneAuthProvider\r\n      .credential(this.confirmationResult.verificationId, this.verificationCodeControl.value);\r\n\r\n    await this.firebaseAuth.loginWithCredentials(credential);\r\n\r\n    this.router.navigate(['/news']);\r\n  }\r\n\r\n  private async setupRecaptchaVerifier(): Promise<void> {\r\n    this.windowRef = this.win.windowRef;\r\n    this.windowRef.recaptchaVerifier = this.firebaseAuth.getRecaptchaVerifier('recaptcha-container');\r\n\r\n    this.windowRef.recaptchaWidgetId = await this.windowRef.recaptchaVerifier.render();\r\n  }\r\n\r\n  private buildForm() {\r\n    this.phoneGroup = this.fb.group({\r\n      prefix: ['+48', [Validators.required, Validators.minLength(3), Validators.maxLength(3),\r\n        Validators.pattern('[0-9+]*')]],\r\n      first: ['', [Validators.required, Validators.minLength(3), Validators.maxLength(3),\r\n        Validators.pattern('[0-9]*')]],\r\n      second: ['', [Validators.required, Validators.minLength(3), Validators.maxLength(3),\r\n        Validators.pattern('[0-9]*')]],\r\n      third: ['', [Validators.required, Validators.minLength(3), Validators.maxLength(3),\r\n        Validators.pattern('[0-9]*')]]\r\n    });\r\n\r\n    this.verificationCodeControl = this.fb.control('',\r\n      [Validators.required, Validators.minLength(6), Validators.maxLength(6)]);\r\n  }\r\n\r\n  private obtainPhoneNumber(): string {\r\n    return this.phoneGroup.get('prefix').value + this.phoneGroup.get('first').value +\r\n      this.phoneGroup.get('second').value + this.phoneGroup.get('third').value;\r\n  }\r\n}\r\n","<div class=\"container mb-5\">\r\n  <h1>Sign In with Your Phone Number</h1>\r\n\r\n  <form [formGroup]=\"phoneGroup\" (ngSubmit)=\"sendLoginCode()\" class=\"mt-4\">\r\n    <div class=\"form-group\">\r\n      <label>\r\n        <input class=\"form-control\" type=\"text\" formControlName=\"prefix\" placeholder=\"+48\">\r\n      </label>\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <h5 class=\"mx-3 d-inline\">-</h5>\r\n      <label>\r\n        <input class=\"form-control\" type=\"text\" formControlName=\"first\" placeholder=\"123\">\r\n      </label>\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <h5 class=\"mx-3 d-inline\">-</h5>\r\n      <label>\r\n        <input class=\"form-control\" type=\"text\" formControlName=\"second\" placeholder=\"456\">\r\n      </label>\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <h5 class=\"mx-3 d-inline\">-</h5>\r\n      <label>\r\n        <input class=\"form-control\" type=\"text\" formControlName=\"third\" placeholder=\"789\">\r\n      </label>\r\n    </div>\r\n    <hr>\r\n    <div id=\"recaptcha-container\"></div>\r\n    <hr>\r\n    <button [disabled]=\"!phoneGroup.valid\" class=\"btn btn-primary\" type=\"submit\">Send SMS code\r\n    </button>\r\n  </form>\r\n\r\n  <div [ngClass]=\"{disabled: !confirmationResult}\">\r\n    <hr>\r\n    <div class=\"form-group\">\r\n      <label>\r\n        Enter your Verification Code Here:\r\n        <input [attr.disabled]=\"!confirmationResult ? true: null\" class=\"ml-3 mt-2 form-control\" type=\"text\"\r\n               [formControl]=\"verificationCodeControl\" placeholder=\"123456\">\r\n      </label>\r\n    </div>\r\n    <hr>\r\n    <button [disabled]=\"!verificationCodeControl.valid\" class=\"btn btn-primary\" (click)=\"verifyLoginCode()\">Login\r\n    </button>\r\n  </div>\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable(\r\n  {providedIn: 'root'}\r\n)\r\nexport class WindowService {\r\n\r\n  get windowRef(): any {\r\n    return window;\r\n  }\r\n}\r\n","import { AbstractControl } from '@angular/forms';\r\n\r\nexport class PasswordValidator {\r\n\r\n  public static matchPasswords(control: AbstractControl): { isEqual: boolean } {\r\n    if (control.get('password').value === control.get('repeatedPassword').value) {\r\n      return null;\r\n    } else {\r\n      control.get('repeatedPassword').setErrors({MatchPassword: true});\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { AbstractControl, FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { PasswordValidator } from '@app/auth/login/register/password.validator';\r\nimport { FirebaseAuthService } from '@app/auth/firebase-auth.service';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.component.html',\r\n  styleUrls: ['./register.component.scss']\r\n})\r\nexport class RegisterComponent implements OnInit {\r\n\r\n  public get email(): AbstractControl {\r\n    return this.registerForm.get('email');\r\n  }\r\n\r\n  public get password(): AbstractControl {\r\n    return this.registerForm.get('password');\r\n  }\r\n\r\n  public registerForm: FormGroup;\r\n\r\n  constructor(private fb: FormBuilder, private firebaseAuth: FirebaseAuthService, private router: Router) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.buildForm();\r\n  }\r\n\r\n  private buildForm(): void {\r\n    this.registerForm = this.fb.group({\r\n      email: ['', [Validators.required, Validators.email]],\r\n      password: ['', [Validators.required, Validators.minLength(6)]],\r\n      repeatedPassword: ['']\r\n    }, {\r\n      validator: PasswordValidator.matchPasswords\r\n    });\r\n  }\r\n\r\n  public async onSubmit(): Promise<void> {\r\n    await this.firebaseAuth.createUser(this.email.value, this.password.value);\r\n    this.router.navigate(['/news']);\r\n  }\r\n}\r\n","<div class=\"container mb-5\">\r\n  <div class=\"row mb-4\">\r\n    <div class=\"col-2\">\r\n    </div>\r\n    <div class=\"col-8\">\r\n      <h3>Login</h3>\r\n      <form [formGroup]=\"registerForm\" (ngSubmit)=\"onSubmit()\" class=\"w-50\">\r\n        <div class=\"form-group\">\r\n          <label>Email</label>\r\n          <input type=\"text\" class=\"form-control\" formControlName=\"email\">\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label>Password</label>\r\n          <input type=\"password\" class=\"form-control\" formControlName=\"password\">\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label>Repeat password</label>\r\n          <input type=\"password\" class=\"form-control\" formControlName=\"repeatedPassword\">\r\n        </div>\r\n\r\n        <button [disabled]=\"!registerForm.valid\" type=\"submit\"\r\n                class=\"btn btn-success\">\r\n          Register\r\n        </button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-not-authorized',\r\n  templateUrl: './not-authorized.component.html',\r\n  styleUrls: ['./not-authorized.component.scss']\r\n})\r\nexport class NotAuthorizedComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<div class=\"container\">\r\n  <h1>Unauthorized!</h1>\r\n</div>\r\n","export enum Role {\r\n  AUTHOR = 'author',\r\n  ADMIN = 'admin'\r\n}\r\n","export interface Roles {\r\n  author?: boolean;\r\n  admin?: boolean;\r\n}\r\n\r\nexport class User {\r\n  public id: string;\r\n  public email: string;\r\n  public name: string;\r\n  public roles: Roles;\r\n\r\n  constructor(authData: firebase.User) {\r\n    this.id = authData.uid;\r\n    this.email = authData.email;\r\n    this.name = authData.displayName;\r\n    this.roles = {author: true};\r\n  }\r\n}\r\n\r\n","import { Component } from '@angular/core';\nimport { FirebaseAuthService } from '@app/auth/firebase-auth.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss']\n})\nexport class HeaderComponent {\n\n  constructor(public firebaseAuth: FirebaseAuthService, private router: Router) {\n  }\n\n  public async logout(): Promise<void> {\n    await this.firebaseAuth.logout();\n    this.router.navigate(['/news']);\n  }\n}\n","<nav class=\"navbar navbar-expand-lg navbar-light bg-light mb-4\">\r\n  <a class=\"navbar-brand\" routerLink=\"news\">News bulletin</a>\r\n  <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarText\"\r\n          aria-controls=\"navbarText\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n    <span class=\"navbar-toggler-icon\"></span>\r\n  </button>\r\n  <div class=\"collapse navbar-collapse\" id=\"navbarText\">\r\n    <ul class=\"navbar-nav mr-auto\">\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\" routerLink=\"create\">Create news</a>\r\n      </li>\r\n    </ul>\r\n    <div class=\"d-flex\" *ngIf=\"firebaseAuth.user | async as user; else login\">\r\n      <span class=\"navbar-text\">\r\n        {{ user.name ? user.name : user.email ? user.email : user.id }}\r\n      </span>\r\n      <button class=\"btn btn-danger ml-4\" (click)=\"logout()\">\r\n        Logout\r\n      </button>\r\n    </div>\r\n    <ng-template #login>\r\n      <button class=\"btn btn-success\" routerLink=\"login\">\r\n        Login\r\n      </button>\r\n    </ng-template>\r\n  </div>\r\n</nav>\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\n\n@Component({\n    selector: 'app-images-carousel',\n    templateUrl: './images-carousel.component.html',\n    styleUrls: ['./images-carousel.component.scss']\n})\nexport class ImagesCarouselComponent implements OnInit {\n\n    @Input() public imagesUrls: string[];\n    @Output() public imageRemoved = new EventEmitter<number>();\n\n    constructor() {\n    }\n\n    ngOnInit() {\n    }\n\n    public removeUrl(i: number): void {\n        this.imageRemoved.emit(i);\n    }\n}\n","<ngb-carousel *ngIf=\"imagesUrls?.length\" [showNavigationArrows]=\"true\"\n              [showNavigationIndicators]=\"true\">\n  <ng-template ngbSlide *ngFor=\"let url of imagesUrls; let i = index\">\n    <div (dblclick)=\"removeUrl(i)\">\n      <img [src]=\"url\" alt=\"one of images\">\n    </div>\n  </ng-template>\n</ngb-carousel>\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { AbstractControl, FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { FirestoreService } from '@app/services/firestore/firestore.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { FileSystemFileEntry, NgxFileDropEntry } from 'ngx-file-drop';\r\nimport { Subject } from 'rxjs';\r\nimport { finalize, takeUntil, tap } from 'rxjs/operators';\r\nimport { FirebaseAuthService } from '@app/auth/firebase-auth.service';\r\nimport { User } from '@app/auth/user';\r\n\r\n@Component({\r\n  selector: 'app-create-news',\r\n  templateUrl: './create-news.component.html',\r\n  styleUrls: ['./create-news.component.scss']\r\n})\r\nexport class CreateNewsComponent implements OnInit, OnDestroy {\r\n\r\n  get title(): AbstractControl {\r\n    return this.newsForm.get('title');\r\n  }\r\n\r\n  get content(): AbstractControl {\r\n    return this.newsForm.get('content');\r\n  }\r\n\r\n  private unsubscribe$ = new Subject();\r\n  private newsId: string;\r\n\r\n  public newsForm: FormGroup;\r\n  public allowedFormats = ['.jpg', '.png', '.jpeg'];\r\n  public imagesUrls: string[] = [];\r\n  public imagesDuringUpload = 0;\r\n\r\n  constructor(private fb: FormBuilder,\r\n              private firestoreService: FirestoreService,\r\n              private firebaseAuth: FirebaseAuthService,\r\n              private router: Router,\r\n              private route: ActivatedRoute) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.buildForm();\r\n    this.loadNewsData();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unsubscribe$.next();\r\n    this.unsubscribe$.complete();\r\n  }\r\n\r\n  public dropped(files: NgxFileDropEntry[]): void {\r\n    for (const droppedFile of files) {\r\n      if (this.isFileAllowed(droppedFile)) {\r\n        ++this.imagesDuringUpload;\r\n\r\n        const fileEntry = droppedFile.fileEntry as FileSystemFileEntry;\r\n        fileEntry.file((file: File) =>\r\n          this.firestoreService.uploadFile(droppedFile.relativePath, file)\r\n            .pipe(finalize(() => --this.imagesDuringUpload), takeUntil(this.unsubscribe$))\r\n            .subscribe(() => undefined, () => undefined,\r\n              () => this.firestoreService.getFileUrl(droppedFile.relativePath)\r\n                .pipe(takeUntil(this.unsubscribe$))\r\n                .subscribe(url => this.imagesUrls.push(url))));\r\n      }\r\n    }\r\n  }\r\n\r\n  private isFileAllowed(droppedFile: NgxFileDropEntry): boolean {\r\n    return droppedFile.fileEntry.isFile &&\r\n      this.allowedFormats.some(format => droppedFile.relativePath.toLowerCase().endsWith(format));\r\n  }\r\n\r\n  public async onSubmit(): Promise<void> {\r\n    if (!this.newsId) {\r\n      const docId = await this.firestoreService\r\n        .createNews({\r\n          content: this.content.value,\r\n          title: this.title.value,\r\n          imagesUrls: this.imagesUrls,\r\n          author: {\r\n            id: this.firebaseAuth.user.value.id,\r\n            name: this.firebaseAuth.user.value.name,\r\n            email: this.firebaseAuth.user.value.email\r\n          }\r\n        });\r\n\r\n      this.router.navigate(['/news', docId]);\r\n    } else {\r\n      await this.firestoreService\r\n        .updateNews({\r\n          content: this.content.value,\r\n          title: this.title.value,\r\n          imagesUrls: this.imagesUrls,\r\n          id: this.newsId\r\n        });\r\n\r\n      this.router.navigate(['/news', this.newsId]);\r\n    }\r\n  }\r\n\r\n  public onImageRemoved(urlId: number): void {\r\n    this.imagesUrls.splice(urlId, 1);\r\n  }\r\n\r\n  private buildForm(): void {\r\n    this.newsForm = this.fb.group({\r\n      title: ['', Validators.required],\r\n      content: ['', Validators.required]\r\n    });\r\n  }\r\n\r\n  private loadNewsData(): void {\r\n    this.newsId = this.route.snapshot.paramMap.get('id');\r\n    if (!this.newsId) {\r\n      return;\r\n    }\r\n\r\n    this.firestoreService.getNewsItem(this.newsId)\r\n      .pipe(\r\n        tap(news => {\r\n          if (!this.canUserModifyThisNews(news.author)) {\r\n            this.router.navigate(['/unauthorized']);\r\n          }\r\n        }),\r\n        takeUntil(this.unsubscribe$)\r\n      )\r\n      .subscribe(newsItem => {\r\n        this.title.setValue(newsItem.title);\r\n        this.content.setValue(newsItem.content);\r\n        this.imagesUrls = newsItem.imagesUrls;\r\n      });\r\n  }\r\n\r\n  private canUserModifyThisNews(author: Partial<User>): boolean {\r\n    const loggedInUser = this.firebaseAuth.user.value;\r\n\r\n    return loggedInUser.roles.author && author.id === loggedInUser.id || loggedInUser.roles.admin;\r\n  }\r\n}\r\n","<div class=\"container mb-5\">\n  <div class=\"row mb-4\">\n    <div class=\"col-2\">\n    </div>\n    <div class=\"col-8\">\n      <h3>New news</h3>\n      <form [formGroup]=\"newsForm\" (ngSubmit)=\"onSubmit()\" class=\"w-50\">\n        <div class=\"form-group\">\n          <label>Title</label>\n          <input type=\"text\" class=\"form-control\" formControlName=\"title\">\n        </div>\n\n        <div class=\"form-group\">\n          <label>Content</label>\n          <textarea class=\"form-control\" formControlName=\"content\"></textarea>\n        </div>\n\n        <div class=\"mb-3\">\n          <ngx-file-drop dropZoneLabel=\"Drop files here\" (onFileDrop)=\"dropped($event)\">\n            <ng-template ngx-file-drop-content-tmp let-openFileSelector=\"openFileSelector\">\n              <span (click)=\"openFileSelector()\">Drop files here</span>\n            </ng-template>\n          </ngx-file-drop>\n          <p class=\"mt-3\">Formats allowed:\n            <span *ngFor=\"let  format of allowedFormats; let i = index\">\n            {{ format }}<span *ngIf=\"i < allowedFormats.length - 1\">, </span></span></p>\n        </div>\n\n        <button [disabled]=\"!newsForm.valid || imagesDuringUpload\" type=\"submit\"\n                class=\"btn btn-success\">\n          Submit\n        </button>\n      </form>\n    </div>\n  </div>\n\n  <div class=\"row\">\n    <div class=\"col-3\">\n    </div>\n    <div class=\"col-6\">\n      <app-images-carousel (imageRemoved)=\"onImageRemoved($event)\" [imagesUrls]=\"imagesUrls\"></app-images-carousel>\n    </div>\n  </div>\n</div>\n","import { AfterViewChecked, Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { News } from '@app/news/news';\r\nimport { Observable } from 'rxjs';\r\nimport { FirestoreService } from '@app/services/firestore/firestore.service';\r\nimport { WindowService } from '@app/auth/login/phone-login/window.service';\r\n\r\n@Component({\r\n  selector: 'app-news-detail',\r\n  templateUrl: './news-detail.component.html',\r\n  styleUrls: ['./news-detail.component.scss']\r\n})\r\nexport class NewsDetailComponent implements OnInit, AfterViewChecked {\r\n\r\n  private newsId: string;\r\n  public newsItem$: Observable<News>;\r\n\r\n  constructor(private route: ActivatedRoute,\r\n              private router: Router,\r\n              private firestoreService: FirestoreService,\r\n              private windowService: WindowService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.loadProductDetails();\r\n  }\r\n\r\n  private loadProductDetails(): void {\r\n    this.newsId = this.route.snapshot.paramMap.get('id');\r\n    this.newsItem$ = this.firestoreService.getNewsItem(this.newsId);\r\n  }\r\n\r\n  public deleteDocument(): void {\r\n    this.firestoreService.removeNews(this.newsId);\r\n\r\n    this.router.navigate(['/news']);\r\n  }\r\n\r\n  editDocument(): void {\r\n    this.router.navigate(['/create', this.newsId]);\r\n  }\r\n\r\n  ngAfterViewChecked(): void {\r\n    this.windowService.windowRef.FB.XFBML.parse();\r\n  }\r\n}\r\n","<div class=\"container text-center mb-5\" *ngIf=\"newsItem$ | async as newsItem\">\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <h2>{{ newsItem.title }}</h2>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-2\"></div>\r\n    <div class=\"col-8\">\r\n      <p class=\"text-break\">{{ newsItem.content }}</p>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-2\"></div>\r\n    <div class=\"col-8\">\r\n      <a\r\n        href=\"#\">{{ newsItem.author.name ? newsItem.author.name : newsItem.author.email ? newsItem.author.email : newsItem.author.id }}</a>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row my-4\" *appIsCreatorOrAdmin=\"newsItem.author.id\">\r\n    <div class=\"col-4\">\r\n    </div>\r\n    <div class=\"col-4 d-flex justify-content-around\">\r\n      <button type=\"button\" class=\"btn btn-warning\" (click)=\"editDocument()\">Edit news</button>\r\n      <button type=\"button\" class=\"btn btn-danger\" (click)=\"deleteDocument()\">Delete news</button>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row mb-4\">\r\n    <div class=\"col-2\">\r\n    </div>\r\n    <div class=\"col-8\">\r\n      <app-images-carousel [imagesUrls]=\"newsItem.imagesUrls\"></app-images-carousel>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-1\">\r\n    </div>\r\n    <div class=\"col\">\r\n      <div class=\"fb-comments\" [attr.data-href]=\"'https:/jakubo96.github.io/news/' + newsItem.id\" data-width=\"\"\r\n           data-numposts=\"5\"></div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { News } from '@app/news/news';\r\nimport { FirestoreService } from '@app/services/firestore/firestore.service';\r\n\r\n@Component({\r\n  selector: 'app-news-list',\r\n  templateUrl: './news-list.component.html',\r\n  styleUrls: ['./news-list.component.scss']\r\n})\r\nexport class NewsListComponent implements OnInit {\r\n\r\n  public newsList$: Observable<News[]>;\r\n\r\n  constructor(private firestoreService: FirestoreService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.loadNewsList();\r\n  }\r\n\r\n  private loadNewsList(): void {\r\n    this.newsList$ = this.firestoreService.newsList$;\r\n  }\r\n}\r\n","<div class=\"container mb-5\">\r\n  <ng-container *ngIf=\"newsList$ | async as newsList\">\r\n    <div class=\"row\" *ngIf=\"newsList.length else noNews\">\r\n      <div class=\"col-4 mb-4\" *ngFor=\"let news of newsList\">\r\n        <div class=\"card\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">{{ news.title }}</h5>\r\n            <p class=\"card-text\">{{ news.content }}</p>\r\n            <a [routerLink]=\"news.id\" class=\"btn btn-primary\">Go to detail page</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <ng-template #noNews>\r\n      <h1>No news available :(</h1>\r\n    </ng-template>\r\n  </ng-container>\r\n</div>\r\n\r\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-page-not-found',\n  templateUrl: './page-not-found.component.html',\n  styleUrls: ['./page-not-found.component.scss']\n})\nexport class PageNotFoundComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","<div class=\"container\">\r\n  <h1>Page not found!</h1>\r\n</div>\r\n","export class FirestoreCollections {\n  public static readonly NEWS = 'news';\n  public static readonly USERS = 'users';\n}\n","import { Injectable } from '@angular/core';\r\nimport { AngularFirestore, AngularFirestoreCollection, AngularFirestoreDocument } from '@angular/fire/firestore';\r\nimport { News } from '@app/news/news';\r\nimport { FirestoreCollections } from '@app/services/firestore/firestore-collections';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { AngularFireStorage } from '@angular/fire/storage';\r\nimport { User } from '@app/auth/user';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class FirestoreService {\r\n\r\n  private _newsCollection: AngularFirestoreCollection<News>;\r\n  private _newsList$: Observable<News[]>;\r\n\r\n  private _newsDocs = new Map<string, AngularFirestoreDocument<News>>();\r\n  private _newsItems$ = new Map<string, Observable<News>>();\r\n\r\n  private _usersCollection: AngularFirestoreCollection<User>;\r\n\r\n  public get newsList$(): Observable<News[]> {\r\n    return this._newsList$;\r\n  }\r\n\r\n  constructor(private afs: AngularFirestore, private storage: AngularFireStorage) {\r\n    this.initializeCollections();\r\n  }\r\n\r\n  private initializeCollections(): void {\r\n    this.initializeNews();\r\n    this.initializeUsers();\r\n  }\r\n\r\n  private initializeNews(): void {\r\n    this._newsCollection = this.afs.collection<News>(FirestoreCollections.NEWS);\r\n    this._newsList$ = this._newsCollection.snapshotChanges().pipe(\r\n      map(actions => actions.map(a => {\r\n        const data = a.payload.doc.data() as News;\r\n        const id = a.payload.doc.id;\r\n\r\n        return {id, ...data};\r\n      }))\r\n    );\r\n  }\r\n\r\n  private initializeUsers(): void {\r\n    this._usersCollection = this.afs.collection<User>(FirestoreCollections.USERS);\r\n  }\r\n\r\n  public getNewsItem(id: string): Observable<News> {\r\n    if (this._newsItems$.has(id)) {\r\n      return this._newsItems$.get(id);\r\n    }\r\n\r\n    const {newsItem} = this.loadNewNews(id);\r\n\r\n\r\n    return newsItem;\r\n  }\r\n\r\n  public async createNews(item: News): Promise<string> {\r\n    const res = await this._newsCollection.add(item);\r\n\r\n    return res.id;\r\n  }\r\n\r\n  public updateNews(item: Partial<News>): void {\r\n    this.getNewsDoc(item.id).update(item);\r\n\r\n    this.initializeNews();\r\n  }\r\n\r\n  public removeNews(id: string): void {\r\n    this.getNewsDoc(id).delete();\r\n\r\n    this._newsDocs.delete(id);\r\n    this._newsItems$.delete(id);\r\n\r\n    this.initializeNews();\r\n  }\r\n\r\n  public uploadFile(filePath: string, file: Blob): Observable<any> {\r\n    const ref = this.storage.ref(filePath);\r\n\r\n    return ref.put(file).snapshotChanges();\r\n  }\r\n\r\n  public getFileUrl(filePath: string): Observable<string> {\r\n    return this.storage.ref(filePath).getDownloadURL();\r\n  }\r\n\r\n  private getNewsDoc(id: string): AngularFirestoreDocument<News> {\r\n    if (this._newsDocs.has(id)) {\r\n      return this._newsDocs.get(id);\r\n    }\r\n\r\n    const {newsDoc} = this.loadNewNews(id);\r\n\r\n    return newsDoc;\r\n  }\r\n\r\n  private loadNewNews(id: string): { newsDoc: AngularFirestoreDocument<News>, newsItem: Observable<News> } {\r\n    const newsDoc = this.afs.doc<News>(`${FirestoreCollections.NEWS}/${id}`);\r\n\r\n    const newsItem = newsDoc.snapshotChanges().pipe(\r\n      map(source => {\r\n          const data = source.payload.data() as News;\r\n\r\n          return {id, ...data};\r\n        }\r\n      ));\r\n\r\n    this._newsDocs.set(id, newsDoc);\r\n    this._newsItems$.set(id, newsItem);\r\n\r\n    return {newsDoc, newsItem};\r\n  }\r\n\r\n  public getUser(id: string): Observable<User> {\r\n    return this._usersCollection.doc<User>(id).valueChanges();\r\n  }\r\n\r\n  public async createUser(id: string, user: User): Promise<void> {\r\n    await this._usersCollection.doc<User>(id).set(user);\r\n  }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n    production: false,\n    firebase: {\n      apiKey: 'AIzaSyA4f9aKs_Ir2DVWMo5TQUofPABmT5fX5Ec',\n      authDomain: 'news-bulletin-d9d88.firebaseapp.com',\n      databaseURL: 'https://news-bulletin-d9d88.firebaseio.com',\n      projectId: 'news-bulletin-d9d88',\n      storageBucket: 'news-bulletin-d9d88.appspot.com',\n      messagingSenderId: '341027191388'\n    }\n  }\n;\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from '@app/app.module';\nimport { environment } from '@environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":"webpack:///"}